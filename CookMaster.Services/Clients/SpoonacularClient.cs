using CookMaster.Interfaces;
using CookMaster.Models;
using CookMaster.Response;
using Microsoft.Extensions.Logging;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Net.Http;
using System.Text;
using System.Text.Json;
using System.Threading.Tasks;

namespace CookMaster.Services.Clients
{
    public class SpoonacularClient: ISpoonacularClient
    {

        private readonly ILogger logger;
        private readonly HttpClient httpClient;
        private readonly JsonSerializerOptions jsonSerializerOptions;

        public SpoonacularClient(HttpClient httpClient, ILoggerFactory loggerFactory)
        {
            this.httpClient = httpClient;
            this.logger = loggerFactory.CreateLogger<SpoonacularClient>();

            this.jsonSerializerOptions = new JsonSerializerOptions
            {
                PropertyNameCaseInsensitive = true, // Match property names ignoring case
                PropertyNamingPolicy = JsonNamingPolicy.CamelCase // Expect camelCase JSON
            };
        }

        public async Task<ListResponse<RecipeSearchResult>> SearchRecipesByIngredients(Dictionary<string, string> queryPrams)
        {
            var uri = BuildUri("recipes/findByIngredients", queryPrams);

            using (var req = new HttpRequestMessage(HttpMethod.Get, uri))
            {
                var response = await httpClient.SendAsync(req);

                if (response.IsSuccessStatusCode)
                {
#if DEBUG
                    var r = @"
[
        {
            ""ID"": 640352,
            ""Image"": ""https://img.spoonacular.com/recipes/640352-312x231.jpg"",
            ""ImageType"": ""jpg"",
            ""Likes"": 11,
            ""MissedIngredientCount"": 3,
            ""MissedIngredients"": [
                {
                    ""Aisle"": ""Produce"",
                    ""Amount"": 2,
                    ""ExtendedName"": ""fresh cranberries"",
                    ""Id"": 9078,
                    ""Image"": ""https://img.spoonacular.com/ingredients_100x100/cranberries.jpg"",
                    ""Meta"": [
                        ""fresh""
                    ],
                    ""Name"": ""cranberries"",
                    ""Original"": ""2 cups fresh cranberries"",
                    ""OriginalName"": ""fresh cranberries"",
                    ""Unit"": ""cups"",
                    ""UnitLong"": ""cups"",
                    ""UnitShort"": ""cup""
                },
                {
                    ""Aisle"": ""Milk, Eggs, Other Dairy"",
                    ""Amount"": 4,
                    ""ExtendedName"": ""unsalted butter"",
                    ""Id"": 1145,
                    ""Image"": ""https://img.spoonacular.com/ingredients_100x100/butter-sliced.jpg"",
                    ""Meta"": [
                        ""unsalted"",
                        ""cut into cubes""
                    ],
                    ""Name"": ""butter"",
                    ""Original"": ""1/2 stick (4 Tbs) unsalted butter, cut into cubes"",
                    ""OriginalName"": ""1/2 stick unsalted butter, cut into cubes"",
                    ""Unit"": ""Tbs"",
                    ""UnitLong"": ""Tbs"",
                    ""UnitShort"": ""Tbsp""
                },
                {
                    ""Aisle"": ""Cereal"",
                    ""Amount"": 1.5,
                    ""Id"": 8120,
                    ""Image"": ""https://img.spoonacular.com/ingredients_100x100/rolled-oats.jpg"",
                    ""Meta"": [
                        ""(not quick-cooking)""
                    ],
                    ""Name"": ""regular oats"",
                    ""Original"": ""1 1/2 cups regular oats (not quick-cooking)"",
                    ""OriginalName"": ""regular oats (not quick-cooking)"",
                    ""Unit"": ""cups"",
                    ""UnitLong"": ""cups"",
                    ""UnitShort"": ""cup""
                }
            ],
            ""Title"": ""Cranberry Apple Crisp"",
            ""UnusedIngredients"": [],
            ""UsedIngredientCount"": 1,
            ""UsedIngredients"": [
                {
                    ""Aisle"": ""Produce"",
                    ""Amount"": 4,
                    ""Id"": 1089003,
                    ""Image"": ""https://img.spoonacular.com/ingredients_100x100/grannysmith-apple.png"",
                    ""Meta"": [
                        ""chopped""
                    ],
                    ""Name"": ""granny smith apples"",
                    ""Original"": ""4 cups Granny Smith apples, chopped into ½ inch chunks"",
                    ""OriginalName"": ""Granny Smith apples, chopped into ½ inch chunks"",
                    ""Unit"": ""cups"",
                    ""UnitLong"": ""cups"",
                    ""UnitShort"": ""cup""
                }
            ]
        },
        {
            ""ID"": 641803,
            ""Image"": ""https://img.spoonacular.com/recipes/641803-312x231.jpg"",
            ""ImageType"": ""jpg"",
            ""Likes"": 1,
            ""MissedIngredientCount"": 3,
            ""MissedIngredients"": [
                {
                    ""Aisle"": ""Milk, Eggs, Other Dairy"",
                    ""Amount"": 0.75,
                    ""Id"": 1001,
                    ""Image"": ""https://img.spoonacular.com/ingredients_100x100/butter-sliced.jpg"",
                    ""Meta"": [],
                    ""Name"": ""butter"",
                    ""Original"": ""3/4 stick of butter"",
                    ""OriginalName"": ""butter"",
                    ""Unit"": ""stick"",
                    ""UnitLong"": ""sticks"",
                    ""UnitShort"": ""stick""
                },
                {
                    ""Aisle"": ""Spices and Seasonings"",
                    ""Amount"": 1,
                    ""Id"": 2011,
                    ""Image"": ""https://img.spoonacular.com/ingredients_100x100/cloves.jpg"",
                    ""Meta"": [],
                    ""Name"": ""ground cloves"",
                    ""Original"": ""Dash of ground cloves"",
                    ""OriginalName"": ""ground cloves"",
                    ""Unit"": ""Dash"",
                    ""UnitLong"": ""Dash"",
                    ""UnitShort"": ""Dash""
                },
                {
                    ""Aisle"": ""Produce"",
                    ""Amount"": 1,
                    ""Id"": 9156,
                    ""Image"": ""https://img.spoonacular.com/ingredients_100x100/zest-lemon.jpg"",
                    ""Meta"": [],
                    ""Name"": ""lemon zest"",
                    ""Original"": ""1 Zest of lemon"",
                    ""OriginalName"": ""Zest of lemon"",
                    ""Unit"": """",
                    ""UnitLong"": """",
                    ""UnitShort"": """"
                }
            ],
            ""Title"": ""Easy & Delish! ~ Apple Crumble"",
            ""UnusedIngredients"": [],
            ""UsedIngredientCount"": 1,
            ""UsedIngredients"": [
                {
                    ""Aisle"": ""Produce"",
                    ""Amount"": 3,
                    ""Id"": 9003,
                    ""Image"": ""https://img.spoonacular.com/ingredients_100x100/apple.jpg"",
                    ""Meta"": [
                        ""sliced""
                    ],
                    ""Name"": ""apples"",
                    ""Original"": ""3 apples – sliced"",
                    ""OriginalName"": ""apples – sliced"",
                    ""Unit"": """",
                    ""UnitLong"": """",
                    ""UnitShort"": """"
                }
            ]
        }
    ]

";
                    var result = JsonSerializer.Deserialize<List<RecipeSearchResult>>(r, jsonSerializerOptions);
#else
                    var result = await response.Content.ReadFromJsonAsync<List<RecipeSearchResult>>(jsonSerializerOptions);
#endif
                    return new ListResponse<RecipeSearchResult> ()
                    {
                        Success = true,
                        Objects = result
                    };
                }

                throw await HandleError(response);
            }
        }

        public async Task<SingletonResponse<NutritionInfo>> GetRecipeNutritions(int recipeID)
        {
            var uri = BuildUri($"recipes/{recipeID}/nutritionWidget.json");

            using (var req = new HttpRequestMessage(HttpMethod.Get, uri))
            {
                var response = await httpClient.SendAsync(req);

                if (response.IsSuccessStatusCode)
                {
#if DEBUG
                    var j = "{\r\n  \"calories\": \"833\",\r\n  \"carbs\": \"126g\",\r\n  \"fat\": \"36g\",\r\n  \"protein\": \"5g\",\r\n  \"bad\": [\r\n    {\r\n      \"title\": \"Calories\",\r\n      \"amount\": \"833\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 41.65\r\n    },\r\n    {\r\n      \"title\": \"Fat\",\r\n      \"amount\": \"36g\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 56.81\r\n    },\r\n    {\r\n      \"title\": \"Saturated Fat\",\r\n      \"amount\": \"22g\",\r\n      \"indented\": true,\r\n      \"percentOfDailyNeeds\": 138.71\r\n    },\r\n    {\r\n      \"title\": \"Carbohydrates\",\r\n      \"amount\": \"126g\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 42.2\r\n    },\r\n    {\r\n      \"title\": \"Sugar\",\r\n      \"amount\": \"92g\",\r\n      \"indented\": true,\r\n      \"percentOfDailyNeeds\": 102.29\r\n    },\r\n    {\r\n      \"title\": \"Cholesterol\",\r\n      \"amount\": \"91mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 30.42\r\n    },\r\n    {\r\n      \"title\": \"Sodium\",\r\n      \"amount\": \"17mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 0.74\r\n    },\r\n    {\r\n      \"title\": \"Alcohol\",\r\n      \"amount\": \"0.0g\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 100.0\r\n    }\r\n  ],\r\n  \"good\": [\r\n    {\r\n      \"title\": \"Protein\",\r\n      \"amount\": \"5g\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 11.54\r\n    },\r\n    {\r\n      \"title\": \"Manganese\",\r\n      \"amount\": \"1mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 70.1\r\n    },\r\n    {\r\n      \"title\": \"Fiber\",\r\n      \"amount\": \"8g\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 32.33\r\n    },\r\n    {\r\n      \"title\": \"Vitamin A\",\r\n      \"amount\": \"1158IU\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 23.17\r\n    },\r\n    {\r\n      \"title\": \"Selenium\",\r\n      \"amount\": \"12µg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 17.91\r\n    },\r\n    {\r\n      \"title\": \"Phosphorus\",\r\n      \"amount\": \"163mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 16.36\r\n    },\r\n    {\r\n      \"title\": \"Vitamin C\",\r\n      \"amount\": \"12mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 15.45\r\n    },\r\n    {\r\n      \"title\": \"Vitamin B1\",\r\n      \"amount\": \"0.23mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 15.37\r\n    },\r\n    {\r\n      \"title\": \"Magnesium\",\r\n      \"amount\": \"56mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 14.06\r\n    },\r\n    {\r\n      \"title\": \"Vitamin E\",\r\n      \"amount\": \"2mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 13.35\r\n    },\r\n    {\r\n      \"title\": \"Iron\",\r\n      \"amount\": \"2mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 11.94\r\n    },\r\n    {\r\n      \"title\": \"Copper\",\r\n      \"amount\": \"0.22mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 10.76\r\n    },\r\n    {\r\n      \"title\": \"Potassium\",\r\n      \"amount\": \"339mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 9.71\r\n    },\r\n    {\r\n      \"title\": \"Vitamin B2\",\r\n      \"amount\": \"0.15mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 8.95\r\n    },\r\n    {\r\n      \"title\": \"Zinc\",\r\n      \"amount\": \"1mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 8.72\r\n    },\r\n    {\r\n      \"title\": \"Vitamin K\",\r\n      \"amount\": \"8µg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 8.43\r\n    },\r\n    {\r\n      \"title\": \"Folate\",\r\n      \"amount\": \"29µg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 7.46\r\n    },\r\n    {\r\n      \"title\": \"Vitamin B5\",\r\n      \"amount\": \"0.68mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 6.82\r\n    },\r\n    {\r\n      \"title\": \"Vitamin B6\",\r\n      \"amount\": \"0.13mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 6.31\r\n    },\r\n    {\r\n      \"title\": \"Calcium\",\r\n      \"amount\": \"62mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 6.2\r\n    },\r\n    {\r\n      \"title\": \"Vitamin B3\",\r\n      \"amount\": \"1mg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 5.07\r\n    },\r\n    {\r\n      \"title\": \"Vitamin D\",\r\n      \"amount\": \"0.64µg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 4.24\r\n    },\r\n    {\r\n      \"title\": \"Vitamin B12\",\r\n      \"amount\": \"0.07µg\",\r\n      \"indented\": false,\r\n      \"percentOfDailyNeeds\": 1.2\r\n    }\r\n  ],\r\n  \"nutrients\": [\r\n    {\r\n      \"name\": \"Calories\",\r\n      \"amount\": 833.04,\r\n      \"unit\": \"kcal\",\r\n      \"percentOfDailyNeeds\": 41.65\r\n    },\r\n    {\r\n      \"name\": \"Fat\",\r\n      \"amount\": 36.93,\r\n      \"unit\": \"g\",\r\n      \"percentOfDailyNeeds\": 56.81\r\n    },\r\n    {\r\n      \"name\": \"Saturated Fat\",\r\n      \"amount\": 22.19,\r\n      \"unit\": \"g\",\r\n      \"percentOfDailyNeeds\": 138.71\r\n    },\r\n    {\r\n      \"name\": \"Carbohydrates\",\r\n      \"amount\": 126.6,\r\n      \"unit\": \"g\",\r\n      \"percentOfDailyNeeds\": 42.2\r\n    },\r\n    {\r\n      \"name\": \"Net Carbohydrates\",\r\n      \"amount\": 118.52,\r\n      \"unit\": \"g\",\r\n      \"percentOfDailyNeeds\": 43.1\r\n    },\r\n    {\r\n      \"name\": \"Sugar\",\r\n      \"amount\": 92.06,\r\n      \"unit\": \"g\",\r\n      \"percentOfDailyNeeds\": 102.29\r\n    },\r\n    {\r\n      \"name\": \"Cholesterol\",\r\n      \"amount\": 91.27,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 30.42\r\n    },\r\n    {\r\n      \"name\": \"Sodium\",\r\n      \"amount\": 17.1,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 0.74\r\n    },\r\n    {\r\n      \"name\": \"Alcohol\",\r\n      \"amount\": 0.0,\r\n      \"unit\": \"g\",\r\n      \"percentOfDailyNeeds\": 100.0\r\n    },\r\n    {\r\n      \"name\": \"Alcohol %\",\r\n      \"amount\": 0.0,\r\n      \"unit\": \"%\",\r\n      \"percentOfDailyNeeds\": 100.0\r\n    },\r\n    {\r\n      \"name\": \"Protein\",\r\n      \"amount\": 5.77,\r\n      \"unit\": \"g\",\r\n      \"percentOfDailyNeeds\": 11.54\r\n    },\r\n    {\r\n      \"name\": \"Manganese\",\r\n      \"amount\": 1.4,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 70.1\r\n    },\r\n    {\r\n      \"name\": \"Fiber\",\r\n      \"amount\": 8.08,\r\n      \"unit\": \"g\",\r\n      \"percentOfDailyNeeds\": 32.33\r\n    },\r\n    {\r\n      \"name\": \"Vitamin A\",\r\n      \"amount\": 1158.33,\r\n      \"unit\": \"IU\",\r\n      \"percentOfDailyNeeds\": 23.17\r\n    },\r\n    {\r\n      \"name\": \"Selenium\",\r\n      \"amount\": 12.54,\r\n      \"unit\": \"µg\",\r\n      \"percentOfDailyNeeds\": 17.91\r\n    },\r\n    {\r\n      \"name\": \"Phosphorus\",\r\n      \"amount\": 163.64,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 16.36\r\n    },\r\n    {\r\n      \"name\": \"Vitamin C\",\r\n      \"amount\": 12.75,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 15.45\r\n    },\r\n    {\r\n      \"name\": \"Vitamin B1\",\r\n      \"amount\": 0.23,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 15.37\r\n    },\r\n    {\r\n      \"name\": \"Magnesium\",\r\n      \"amount\": 56.25,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 14.06\r\n    },\r\n    {\r\n      \"name\": \"Vitamin E\",\r\n      \"amount\": 2.0,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 13.35\r\n    },\r\n    {\r\n      \"name\": \"Iron\",\r\n      \"amount\": 2.15,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 11.94\r\n    },\r\n    {\r\n      \"name\": \"Copper\",\r\n      \"amount\": 0.22,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 10.76\r\n    },\r\n    {\r\n      \"name\": \"Potassium\",\r\n      \"amount\": 339.94,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 9.71\r\n    },\r\n    {\r\n      \"name\": \"Vitamin B2\",\r\n      \"amount\": 0.15,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 8.95\r\n    },\r\n    {\r\n      \"name\": \"Zinc\",\r\n      \"amount\": 1.31,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 8.72\r\n    },\r\n    {\r\n      \"name\": \"Vitamin K\",\r\n      \"amount\": 8.85,\r\n      \"unit\": \"µg\",\r\n      \"percentOfDailyNeeds\": 8.43\r\n    },\r\n    {\r\n      \"name\": \"Folate\",\r\n      \"amount\": 29.83,\r\n      \"unit\": \"µg\",\r\n      \"percentOfDailyNeeds\": 7.46\r\n    },\r\n    {\r\n      \"name\": \"Vitamin B5\",\r\n      \"amount\": 0.68,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 6.82\r\n    },\r\n    {\r\n      \"name\": \"Vitamin B6\",\r\n      \"amount\": 0.13,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 6.31\r\n    },\r\n    {\r\n      \"name\": \"Calcium\",\r\n      \"amount\": 62.0,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 6.2\r\n    },\r\n    {\r\n      \"name\": \"Vitamin B3\",\r\n      \"amount\": 1.01,\r\n      \"unit\": \"mg\",\r\n      \"percentOfDailyNeeds\": 5.07\r\n    },\r\n    {\r\n      \"name\": \"Vitamin D\",\r\n      \"amount\": 0.64,\r\n      \"unit\": \"µg\",\r\n      \"percentOfDailyNeeds\": 4.24\r\n    },\r\n    {\r\n      \"name\": \"Vitamin B12\",\r\n      \"amount\": 0.07,\r\n      \"unit\": \"µg\",\r\n      \"percentOfDailyNeeds\": 1.2\r\n    }\r\n  ],\r\n  \"properties\": [\r\n    {\r\n      \"name\": \"Glycemic Index\",\r\n      \"amount\": 65.52,\r\n      \"unit\": \"\"\r\n    },\r\n    {\r\n      \"name\": \"Glycemic Load\",\r\n      \"amount\": 52.67,\r\n      \"unit\": \"\"\r\n    },\r\n    {\r\n      \"name\": \"Inflammation Score\",\r\n      \"amount\": -7.0,\r\n      \"unit\": \"\"\r\n    },\r\n    {\r\n      \"name\": \"Nutrition Score\",\r\n      \"amount\": 13.648260935493138,\r\n      \"unit\": \"%\"\r\n    }\r\n  ],\r\n  \"flavonoids\": [\r\n    {\r\n      \"name\": \"Cyanidin\",\r\n      \"amount\": 25.18,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Petunidin\",\r\n      \"amount\": 0.0,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Delphinidin\",\r\n      \"amount\": 3.84,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Malvidin\",\r\n      \"amount\": 0.22,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Pelargonidin\",\r\n      \"amount\": 0.16,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Peonidin\",\r\n      \"amount\": 24.6,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Catechin\",\r\n      \"amount\": 1.82,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Epigallocatechin\",\r\n      \"amount\": 0.69,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Epicatechin\",\r\n      \"amount\": 11.6,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Epicatechin 3-gallate\",\r\n      \"amount\": 0.01,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Epigallocatechin 3-gallate\",\r\n      \"amount\": 0.72,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Theaflavin\",\r\n      \"amount\": 0.0,\r\n      \"unit\": \"\"\r\n    },\r\n    {\r\n      \"name\": \"Thearubigins\",\r\n      \"amount\": 0.0,\r\n      \"unit\": \"\"\r\n    },\r\n    {\r\n      \"name\": \"Eriodictyol\",\r\n      \"amount\": 0.0,\r\n      \"unit\": \"\"\r\n    },\r\n    {\r\n      \"name\": \"Hesperetin\",\r\n      \"amount\": 0.0,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Naringenin\",\r\n      \"amount\": 0.0,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Apigenin\",\r\n      \"amount\": 0.0,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Luteolin\",\r\n      \"amount\": 0.15,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Isorhamnetin\",\r\n      \"amount\": 0.0,\r\n      \"unit\": \"\"\r\n    },\r\n    {\r\n      \"name\": \"Kaempferol\",\r\n      \"amount\": 0.23,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Myricetin\",\r\n      \"amount\": 3.32,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Quercetin\",\r\n      \"amount\": 12.43,\r\n      \"unit\": \"mg\"\r\n    },\r\n    {\r\n      \"name\": \"Theaflavin-3,3'-digallate\",\r\n      \"amount\": 0.0,\r\n      \"unit\": \"\"\r\n    },\r\n    {\r\n      \"name\": \"Theaflavin-3'-gallate\",\r\n      \"amount\": 0.0,\r\n      \"unit\": \"\"\r\n    },\r\n    {\r\n      \"name\": \"Theaflavin-3-gallate\",\r\n      \"amount\": 0.0,\r\n      \"unit\": \"\"\r\n    },\r\n    {\r\n      \"name\": \"Gallocatechin\",\r\n      \"amount\": 0.0,\r\n      \"unit\": \"mg\"\r\n    }\r\n  ],\r\n  \"ingredients\": [\r\n    {\r\n      \"id\": 1089003,\r\n      \"name\": \"granny smith apples\",\r\n      \"amount\": 1.0,\r\n      \"unit\": \"cups\",\r\n      \"nutrients\": [\r\n        {\r\n          \"name\": \"Copper\",\r\n          \"amount\": 0.03,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 10.76\r\n        },\r\n        {\r\n          \"name\": \"Sugar\",\r\n          \"amount\": 13.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 102.29\r\n        },\r\n        {\r\n          \"name\": \"Poly Unsaturated Fat\",\r\n          \"amount\": 0.06,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Folate\",\r\n          \"amount\": 3.75,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 7.46\r\n        },\r\n        {\r\n          \"name\": \"Cholesterol\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 30.42\r\n        },\r\n        {\r\n          \"name\": \"Potassium\",\r\n          \"amount\": 133.75,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 9.71\r\n        },\r\n        {\r\n          \"name\": \"Choline\",\r\n          \"amount\": 4.25,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Carbohydrates\",\r\n          \"amount\": 17.25,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 42.2\r\n        },\r\n        {\r\n          \"name\": \"Vitamin A\",\r\n          \"amount\": 67.5,\r\n          \"unit\": \"IU\",\r\n          \"percentOfDailyNeeds\": 23.17\r\n        },\r\n        {\r\n          \"name\": \"Zinc\",\r\n          \"amount\": 0.05,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.72\r\n        },\r\n        {\r\n          \"name\": \"Lycopene\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Iron\",\r\n          \"amount\": 0.15,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 11.94\r\n        },\r\n        {\r\n          \"name\": \"Calcium\",\r\n          \"amount\": 7.5,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.2\r\n        },\r\n        {\r\n          \"name\": \"Fat\",\r\n          \"amount\": 0.21,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 56.81\r\n        },\r\n        {\r\n          \"name\": \"Caffeine\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Alcohol\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 100.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B3\",\r\n          \"amount\": 0.11,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 5.07\r\n        },\r\n        {\r\n          \"name\": \"Saturated Fat\",\r\n          \"amount\": 0.04,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 138.71\r\n        },\r\n        {\r\n          \"name\": \"Manganese\",\r\n          \"amount\": 0.04,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 70.1\r\n        },\r\n        {\r\n          \"name\": \"Mono Unsaturated Fat\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Fiber\",\r\n          \"amount\": 3.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 32.33\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B1\",\r\n          \"amount\": 0.02,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.37\r\n        },\r\n        {\r\n          \"name\": \"Selenium\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 17.91\r\n        },\r\n        {\r\n          \"name\": \"Magnesium\",\r\n          \"amount\": 6.25,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 14.06\r\n        },\r\n        {\r\n          \"name\": \"Protein\",\r\n          \"amount\": 0.32,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 11.54\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B5\",\r\n          \"amount\": 0.08,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.82\r\n        },\r\n        {\r\n          \"name\": \"Vitamin E\",\r\n          \"amount\": 0.22,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 13.35\r\n        },\r\n        {\r\n          \"name\": \"Folic Acid\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin C\",\r\n          \"amount\": 5.75,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.45\r\n        },\r\n        {\r\n          \"name\": \"Vitamin D\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 4.24\r\n        },\r\n        {\r\n          \"name\": \"Vitamin K\",\r\n          \"amount\": 2.75,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 8.43\r\n        },\r\n        {\r\n          \"name\": \"Net Carbohydrates\",\r\n          \"amount\": 14.25,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 43.1\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B6\",\r\n          \"amount\": 0.05,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.31\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B2\",\r\n          \"amount\": 0.03,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.95\r\n        },\r\n        {\r\n          \"name\": \"Phosphorus\",\r\n          \"amount\": 13.75,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 16.36\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B12\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 1.2\r\n        },\r\n        {\r\n          \"name\": \"Sodium\",\r\n          \"amount\": 1.25,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.74\r\n        },\r\n        {\r\n          \"name\": \"Calories\",\r\n          \"amount\": 65.0,\r\n          \"unit\": \"kcal\",\r\n          \"percentOfDailyNeeds\": 41.65\r\n        },\r\n        {\r\n          \"name\": \"Fluoride\",\r\n          \"amount\": 4.13,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"id\": 9078,\r\n      \"name\": \"cranberries\",\r\n      \"amount\": 0.5,\r\n      \"unit\": \"cups\",\r\n      \"nutrients\": [\r\n        {\r\n          \"name\": \"Copper\",\r\n          \"amount\": 0.03,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 10.76\r\n        },\r\n        {\r\n          \"name\": \"Sugar\",\r\n          \"amount\": 2.13,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 102.29\r\n        },\r\n        {\r\n          \"name\": \"Poly Unsaturated Fat\",\r\n          \"amount\": 0.03,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Folate\",\r\n          \"amount\": 0.5,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 7.46\r\n        },\r\n        {\r\n          \"name\": \"Cholesterol\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 30.42\r\n        },\r\n        {\r\n          \"name\": \"Potassium\",\r\n          \"amount\": 40.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 9.71\r\n        },\r\n        {\r\n          \"name\": \"Choline\",\r\n          \"amount\": 2.75,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Carbohydrates\",\r\n          \"amount\": 6.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 42.2\r\n        },\r\n        {\r\n          \"name\": \"Vitamin A\",\r\n          \"amount\": 30.0,\r\n          \"unit\": \"IU\",\r\n          \"percentOfDailyNeeds\": 23.17\r\n        },\r\n        {\r\n          \"name\": \"Zinc\",\r\n          \"amount\": 0.05,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.72\r\n        },\r\n        {\r\n          \"name\": \"Lycopene\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Iron\",\r\n          \"amount\": 0.12,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 11.94\r\n        },\r\n        {\r\n          \"name\": \"Calcium\",\r\n          \"amount\": 4.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.2\r\n        },\r\n        {\r\n          \"name\": \"Fat\",\r\n          \"amount\": 0.06,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 56.81\r\n        },\r\n        {\r\n          \"name\": \"Caffeine\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Alcohol\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 100.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B3\",\r\n          \"amount\": 0.05,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 5.07\r\n        },\r\n        {\r\n          \"name\": \"Saturated Fat\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 138.71\r\n        },\r\n        {\r\n          \"name\": \"Manganese\",\r\n          \"amount\": 0.18,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 70.1\r\n        },\r\n        {\r\n          \"name\": \"Mono Unsaturated Fat\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Fiber\",\r\n          \"amount\": 1.8,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 32.33\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B1\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.37\r\n        },\r\n        {\r\n          \"name\": \"Selenium\",\r\n          \"amount\": 0.05,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 17.91\r\n        },\r\n        {\r\n          \"name\": \"Magnesium\",\r\n          \"amount\": 3.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 14.06\r\n        },\r\n        {\r\n          \"name\": \"Protein\",\r\n          \"amount\": 0.23,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 11.54\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B5\",\r\n          \"amount\": 0.15,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.82\r\n        },\r\n        {\r\n          \"name\": \"Vitamin E\",\r\n          \"amount\": 0.66,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 13.35\r\n        },\r\n        {\r\n          \"name\": \"Folic Acid\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin C\",\r\n          \"amount\": 7.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.45\r\n        },\r\n        {\r\n          \"name\": \"Vitamin D\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 4.24\r\n        },\r\n        {\r\n          \"name\": \"Vitamin K\",\r\n          \"amount\": 2.5,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 8.43\r\n        },\r\n        {\r\n          \"name\": \"Net Carbohydrates\",\r\n          \"amount\": 4.2,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 43.1\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B6\",\r\n          \"amount\": 0.03,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.31\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B2\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.95\r\n        },\r\n        {\r\n          \"name\": \"Phosphorus\",\r\n          \"amount\": 5.5,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 16.36\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B12\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 1.2\r\n        },\r\n        {\r\n          \"name\": \"Sodium\",\r\n          \"amount\": 1.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.74\r\n        },\r\n        {\r\n          \"name\": \"Calories\",\r\n          \"amount\": 23.0,\r\n          \"unit\": \"kcal\",\r\n          \"percentOfDailyNeeds\": 41.65\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"id\": 19335,\r\n      \"name\": \"sugar\",\r\n      \"amount\": 0.25,\r\n      \"unit\": \"cup\",\r\n      \"nutrients\": [\r\n        {\r\n          \"name\": \"Copper\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 10.76\r\n        },\r\n        {\r\n          \"name\": \"Sugar\",\r\n          \"amount\": 49.9,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 102.29\r\n        },\r\n        {\r\n          \"name\": \"Poly Unsaturated Fat\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Folate\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 7.46\r\n        },\r\n        {\r\n          \"name\": \"Cholesterol\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 30.42\r\n        },\r\n        {\r\n          \"name\": \"Potassium\",\r\n          \"amount\": 1.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 9.71\r\n        },\r\n        {\r\n          \"name\": \"Choline\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Carbohydrates\",\r\n          \"amount\": 49.8,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 42.2\r\n        },\r\n        {\r\n          \"name\": \"Vitamin A\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"IU\",\r\n          \"percentOfDailyNeeds\": 23.17\r\n        },\r\n        {\r\n          \"name\": \"Zinc\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.72\r\n        },\r\n        {\r\n          \"name\": \"Lycopene\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Iron\",\r\n          \"amount\": 0.03,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 11.94\r\n        },\r\n        {\r\n          \"name\": \"Calcium\",\r\n          \"amount\": 0.5,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.2\r\n        },\r\n        {\r\n          \"name\": \"Fat\",\r\n          \"amount\": 0.16,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 56.81\r\n        },\r\n        {\r\n          \"name\": \"Caffeine\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Alcohol\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 100.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B3\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 5.07\r\n        },\r\n        {\r\n          \"name\": \"Saturated Fat\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 138.71\r\n        },\r\n        {\r\n          \"name\": \"Manganese\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 70.1\r\n        },\r\n        {\r\n          \"name\": \"Mono Unsaturated Fat\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Fiber\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 32.33\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B1\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.37\r\n        },\r\n        {\r\n          \"name\": \"Selenium\",\r\n          \"amount\": 0.3,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 17.91\r\n        },\r\n        {\r\n          \"name\": \"Magnesium\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 14.06\r\n        },\r\n        {\r\n          \"name\": \"Protein\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 11.54\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B5\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.82\r\n        },\r\n        {\r\n          \"name\": \"Vitamin E\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 13.35\r\n        },\r\n        {\r\n          \"name\": \"Folic Acid\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin C\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.45\r\n        },\r\n        {\r\n          \"name\": \"Vitamin D\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 4.24\r\n        },\r\n        {\r\n          \"name\": \"Vitamin K\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 8.43\r\n        },\r\n        {\r\n          \"name\": \"Net Carbohydrates\",\r\n          \"amount\": 49.8,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 43.1\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B6\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.31\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B2\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.95\r\n        },\r\n        {\r\n          \"name\": \"Phosphorus\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 16.36\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B12\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 1.2\r\n        },\r\n        {\r\n          \"name\": \"Sodium\",\r\n          \"amount\": 0.5,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.74\r\n        },\r\n        {\r\n          \"name\": \"Calories\",\r\n          \"amount\": 192.5,\r\n          \"unit\": \"kcal\",\r\n          \"percentOfDailyNeeds\": 41.65\r\n        },\r\n        {\r\n          \"name\": \"Fluoride\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"id\": 1145,\r\n      \"name\": \"butter\",\r\n      \"amount\": 1.0,\r\n      \"unit\": \"Tbs\",\r\n      \"nutrients\": [\r\n        {\r\n          \"name\": \"Copper\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 10.76\r\n        },\r\n        {\r\n          \"name\": \"Sugar\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 102.29\r\n        },\r\n        {\r\n          \"name\": \"Poly Unsaturated Fat\",\r\n          \"amount\": 0.43,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Folate\",\r\n          \"amount\": 0.43,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 7.46\r\n        },\r\n        {\r\n          \"name\": \"Cholesterol\",\r\n          \"amount\": 30.53,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 30.42\r\n        },\r\n        {\r\n          \"name\": \"Potassium\",\r\n          \"amount\": 3.41,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 9.71\r\n        },\r\n        {\r\n          \"name\": \"Choline\",\r\n          \"amount\": 2.67,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Carbohydrates\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 42.2\r\n        },\r\n        {\r\n          \"name\": \"Vitamin A\",\r\n          \"amount\": 354.86,\r\n          \"unit\": \"IU\",\r\n          \"percentOfDailyNeeds\": 23.17\r\n        },\r\n        {\r\n          \"name\": \"Zinc\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.72\r\n        },\r\n        {\r\n          \"name\": \"Lycopene\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Iron\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 11.94\r\n        },\r\n        {\r\n          \"name\": \"Calcium\",\r\n          \"amount\": 3.41,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.2\r\n        },\r\n        {\r\n          \"name\": \"Fat\",\r\n          \"amount\": 11.52,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 56.81\r\n        },\r\n        {\r\n          \"name\": \"Caffeine\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Alcohol\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 100.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B3\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 5.07\r\n        },\r\n        {\r\n          \"name\": \"Saturated Fat\",\r\n          \"amount\": 7.29,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 138.71\r\n        },\r\n        {\r\n          \"name\": \"Manganese\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 70.1\r\n        },\r\n        {\r\n          \"name\": \"Mono Unsaturated Fat\",\r\n          \"amount\": 2.98,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Fiber\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 32.33\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B1\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.37\r\n        },\r\n        {\r\n          \"name\": \"Selenium\",\r\n          \"amount\": 0.14,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 17.91\r\n        },\r\n        {\r\n          \"name\": \"Magnesium\",\r\n          \"amount\": 0.28,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 14.06\r\n        },\r\n        {\r\n          \"name\": \"Protein\",\r\n          \"amount\": 0.12,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 11.54\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B5\",\r\n          \"amount\": 0.02,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.82\r\n        },\r\n        {\r\n          \"name\": \"Vitamin E\",\r\n          \"amount\": 0.33,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 13.35\r\n        },\r\n        {\r\n          \"name\": \"Folic Acid\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin C\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.45\r\n        },\r\n        {\r\n          \"name\": \"Vitamin D\",\r\n          \"amount\": 0.21,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 4.24\r\n        },\r\n        {\r\n          \"name\": \"Vitamin K\",\r\n          \"amount\": 0.99,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 8.43\r\n        },\r\n        {\r\n          \"name\": \"Net Carbohydrates\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 43.1\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B6\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.31\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B2\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.95\r\n        },\r\n        {\r\n          \"name\": \"Phosphorus\",\r\n          \"amount\": 3.41,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 16.36\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B12\",\r\n          \"amount\": 0.02,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 1.2\r\n        },\r\n        {\r\n          \"name\": \"Sodium\",\r\n          \"amount\": 1.56,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.74\r\n        },\r\n        {\r\n          \"name\": \"Trans Fat\",\r\n          \"amount\": 0.47,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 13915.11\r\n        },\r\n        {\r\n          \"name\": \"Calories\",\r\n          \"amount\": 101.81,\r\n          \"unit\": \"kcal\",\r\n          \"percentOfDailyNeeds\": 41.65\r\n        },\r\n        {\r\n          \"name\": \"Fluoride\",\r\n          \"amount\": 0.4,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"id\": 8120,\r\n      \"name\": \"regular oats\",\r\n      \"amount\": 0.38,\r\n      \"unit\": \"cups\",\r\n      \"nutrients\": [\r\n        {\r\n          \"name\": \"Copper\",\r\n          \"amount\": 0.12,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 10.76\r\n        },\r\n        {\r\n          \"name\": \"Sugar\",\r\n          \"amount\": 0.3,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 102.29\r\n        },\r\n        {\r\n          \"name\": \"Poly Unsaturated Fat\",\r\n          \"amount\": 0.7,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Folate\",\r\n          \"amount\": 9.73,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 7.46\r\n        },\r\n        {\r\n          \"name\": \"Cholesterol\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 30.42\r\n        },\r\n        {\r\n          \"name\": \"Potassium\",\r\n          \"amount\": 110.07,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 9.71\r\n        },\r\n        {\r\n          \"name\": \"Choline\",\r\n          \"amount\": 12.28,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Carbohydrates\",\r\n          \"amount\": 20.58,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 42.2\r\n        },\r\n        {\r\n          \"name\": \"Vitamin A\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"IU\",\r\n          \"percentOfDailyNeeds\": 23.17\r\n        },\r\n        {\r\n          \"name\": \"Zinc\",\r\n          \"amount\": 1.11,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.72\r\n        },\r\n        {\r\n          \"name\": \"Lycopene\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Iron\",\r\n          \"amount\": 1.29,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 11.94\r\n        },\r\n        {\r\n          \"name\": \"Calcium\",\r\n          \"amount\": 15.81,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.2\r\n        },\r\n        {\r\n          \"name\": \"Fat\",\r\n          \"amount\": 1.98,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 56.81\r\n        },\r\n        {\r\n          \"name\": \"Caffeine\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Alcohol\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 100.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B3\",\r\n          \"amount\": 0.34,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 5.07\r\n        },\r\n        {\r\n          \"name\": \"Saturated Fat\",\r\n          \"amount\": 0.34,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 138.71\r\n        },\r\n        {\r\n          \"name\": \"Manganese\",\r\n          \"amount\": 1.1,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 70.1\r\n        },\r\n        {\r\n          \"name\": \"Mono Unsaturated Fat\",\r\n          \"amount\": 0.6,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Fiber\",\r\n          \"amount\": 3.07,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 32.33\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B1\",\r\n          \"amount\": 0.14,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.37\r\n        },\r\n        {\r\n          \"name\": \"Selenium\",\r\n          \"amount\": 8.79,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 17.91\r\n        },\r\n        {\r\n          \"name\": \"Magnesium\",\r\n          \"amount\": 41.96,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 14.06\r\n        },\r\n        {\r\n          \"name\": \"Protein\",\r\n          \"amount\": 4.01,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 11.54\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B5\",\r\n          \"amount\": 0.34,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.82\r\n        },\r\n        {\r\n          \"name\": \"Vitamin E\",\r\n          \"amount\": 0.13,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 13.35\r\n        },\r\n        {\r\n          \"name\": \"Folic Acid\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin C\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.45\r\n        },\r\n        {\r\n          \"name\": \"Vitamin D\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 4.24\r\n        },\r\n        {\r\n          \"name\": \"Vitamin K\",\r\n          \"amount\": 0.61,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 8.43\r\n        },\r\n        {\r\n          \"name\": \"Net Carbohydrates\",\r\n          \"amount\": 17.51,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 43.1\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B6\",\r\n          \"amount\": 0.03,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.31\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B2\",\r\n          \"amount\": 0.05,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.95\r\n        },\r\n        {\r\n          \"name\": \"Phosphorus\",\r\n          \"amount\": 124.66,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 16.36\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B12\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 1.2\r\n        },\r\n        {\r\n          \"name\": \"Sodium\",\r\n          \"amount\": 1.82,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.74\r\n        },\r\n        {\r\n          \"name\": \"Calories\",\r\n          \"amount\": 115.24,\r\n          \"unit\": \"kcal\",\r\n          \"percentOfDailyNeeds\": 41.65\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"id\": 19334,\r\n      \"name\": \"brown sugar\",\r\n      \"amount\": 0.13,\r\n      \"unit\": \"cup\",\r\n      \"nutrients\": [\r\n        {\r\n          \"name\": \"Copper\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 10.76\r\n        },\r\n        {\r\n          \"name\": \"Sugar\",\r\n          \"amount\": 26.67,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 102.29\r\n        },\r\n        {\r\n          \"name\": \"Poly Unsaturated Fat\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Folate\",\r\n          \"amount\": 0.28,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 7.46\r\n        },\r\n        {\r\n          \"name\": \"Cholesterol\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 30.42\r\n        },\r\n        {\r\n          \"name\": \"Potassium\",\r\n          \"amount\": 36.58,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 9.71\r\n        },\r\n        {\r\n          \"name\": \"Choline\",\r\n          \"amount\": 0.63,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Carbohydrates\",\r\n          \"amount\": 26.98,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 42.2\r\n        },\r\n        {\r\n          \"name\": \"Vitamin A\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"IU\",\r\n          \"percentOfDailyNeeds\": 23.17\r\n        },\r\n        {\r\n          \"name\": \"Zinc\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.72\r\n        },\r\n        {\r\n          \"name\": \"Lycopene\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Iron\",\r\n          \"amount\": 0.2,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 11.94\r\n        },\r\n        {\r\n          \"name\": \"Calcium\",\r\n          \"amount\": 22.83,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.2\r\n        },\r\n        {\r\n          \"name\": \"Fat\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 56.81\r\n        },\r\n        {\r\n          \"name\": \"Caffeine\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Alcohol\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 100.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B3\",\r\n          \"amount\": 0.03,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 5.07\r\n        },\r\n        {\r\n          \"name\": \"Saturated Fat\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 138.71\r\n        },\r\n        {\r\n          \"name\": \"Manganese\",\r\n          \"amount\": 0.02,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 70.1\r\n        },\r\n        {\r\n          \"name\": \"Mono Unsaturated Fat\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Fiber\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 32.33\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B1\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.37\r\n        },\r\n        {\r\n          \"name\": \"Selenium\",\r\n          \"amount\": 0.33,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 17.91\r\n        },\r\n        {\r\n          \"name\": \"Magnesium\",\r\n          \"amount\": 2.47,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 14.06\r\n        },\r\n        {\r\n          \"name\": \"Protein\",\r\n          \"amount\": 0.03,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 11.54\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B5\",\r\n          \"amount\": 0.04,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.82\r\n        },\r\n        {\r\n          \"name\": \"Vitamin E\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 13.35\r\n        },\r\n        {\r\n          \"name\": \"Folic Acid\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin C\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.45\r\n        },\r\n        {\r\n          \"name\": \"Vitamin D\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 4.24\r\n        },\r\n        {\r\n          \"name\": \"Vitamin K\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 8.43\r\n        },\r\n        {\r\n          \"name\": \"Net Carbohydrates\",\r\n          \"amount\": 26.98,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 43.1\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B6\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.31\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B2\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.95\r\n        },\r\n        {\r\n          \"name\": \"Phosphorus\",\r\n          \"amount\": 1.1,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 16.36\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B12\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 1.2\r\n        },\r\n        {\r\n          \"name\": \"Sodium\",\r\n          \"amount\": 7.7,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.74\r\n        },\r\n        {\r\n          \"name\": \"Calories\",\r\n          \"amount\": 104.5,\r\n          \"unit\": \"kcal\",\r\n          \"percentOfDailyNeeds\": 41.65\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"id\": 20081,\r\n      \"name\": \"flour\",\r\n      \"amount\": 0.06,\r\n      \"unit\": \"cup\",\r\n      \"nutrients\": [\r\n        {\r\n          \"name\": \"Copper\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 10.76\r\n        },\r\n        {\r\n          \"name\": \"Sugar\",\r\n          \"amount\": 0.02,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 102.29\r\n        },\r\n        {\r\n          \"name\": \"Poly Unsaturated Fat\",\r\n          \"amount\": 0.03,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Folate\",\r\n          \"amount\": 14.3,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 7.46\r\n        },\r\n        {\r\n          \"name\": \"Cholesterol\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 30.42\r\n        },\r\n        {\r\n          \"name\": \"Potassium\",\r\n          \"amount\": 8.36,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 9.71\r\n        },\r\n        {\r\n          \"name\": \"Choline\",\r\n          \"amount\": 0.81,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Carbohydrates\",\r\n          \"amount\": 5.96,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 42.2\r\n        },\r\n        {\r\n          \"name\": \"Vitamin A\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"IU\",\r\n          \"percentOfDailyNeeds\": 23.17\r\n        },\r\n        {\r\n          \"name\": \"Zinc\",\r\n          \"amount\": 0.05,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.72\r\n        },\r\n        {\r\n          \"name\": \"Lycopene\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Iron\",\r\n          \"amount\": 0.36,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 11.94\r\n        },\r\n        {\r\n          \"name\": \"Calcium\",\r\n          \"amount\": 1.17,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.2\r\n        },\r\n        {\r\n          \"name\": \"Fat\",\r\n          \"amount\": 0.08,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 56.81\r\n        },\r\n        {\r\n          \"name\": \"Caffeine\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Alcohol\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 100.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B3\",\r\n          \"amount\": 0.46,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 5.07\r\n        },\r\n        {\r\n          \"name\": \"Saturated Fat\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 138.71\r\n        },\r\n        {\r\n          \"name\": \"Manganese\",\r\n          \"amount\": 0.05,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 70.1\r\n        },\r\n        {\r\n          \"name\": \"Mono Unsaturated Fat\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Fiber\",\r\n          \"amount\": 0.21,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 32.33\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B1\",\r\n          \"amount\": 0.06,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.37\r\n        },\r\n        {\r\n          \"name\": \"Selenium\",\r\n          \"amount\": 2.65,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 17.91\r\n        },\r\n        {\r\n          \"name\": \"Magnesium\",\r\n          \"amount\": 1.72,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 14.06\r\n        },\r\n        {\r\n          \"name\": \"Protein\",\r\n          \"amount\": 0.81,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 11.54\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B5\",\r\n          \"amount\": 0.03,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.82\r\n        },\r\n        {\r\n          \"name\": \"Vitamin E\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 13.35\r\n        },\r\n        {\r\n          \"name\": \"Folic Acid\",\r\n          \"amount\": 12.03,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin C\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.45\r\n        },\r\n        {\r\n          \"name\": \"Vitamin D\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 4.24\r\n        },\r\n        {\r\n          \"name\": \"Vitamin K\",\r\n          \"amount\": 0.02,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 8.43\r\n        },\r\n        {\r\n          \"name\": \"Net Carbohydrates\",\r\n          \"amount\": 5.75,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 43.1\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B6\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.31\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B2\",\r\n          \"amount\": 0.04,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.95\r\n        },\r\n        {\r\n          \"name\": \"Phosphorus\",\r\n          \"amount\": 8.44,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 16.36\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B12\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 1.2\r\n        },\r\n        {\r\n          \"name\": \"Sodium\",\r\n          \"amount\": 0.16,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.74\r\n        },\r\n        {\r\n          \"name\": \"Calories\",\r\n          \"amount\": 28.44,\r\n          \"unit\": \"kcal\",\r\n          \"percentOfDailyNeeds\": 41.65\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"id\": 1145,\r\n      \"name\": \"butter\",\r\n      \"amount\": 0.25,\r\n      \"unit\": \"stick\",\r\n      \"nutrients\": [\r\n        {\r\n          \"name\": \"Copper\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 10.76\r\n        },\r\n        {\r\n          \"name\": \"Sugar\",\r\n          \"amount\": 0.02,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 102.29\r\n        },\r\n        {\r\n          \"name\": \"Poly Unsaturated Fat\",\r\n          \"amount\": 0.86,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Folate\",\r\n          \"amount\": 0.85,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 7.46\r\n        },\r\n        {\r\n          \"name\": \"Cholesterol\",\r\n          \"amount\": 60.74,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 30.42\r\n        },\r\n        {\r\n          \"name\": \"Potassium\",\r\n          \"amount\": 6.78,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 9.71\r\n        },\r\n        {\r\n          \"name\": \"Choline\",\r\n          \"amount\": 5.31,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Carbohydrates\",\r\n          \"amount\": 0.02,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 42.2\r\n        },\r\n        {\r\n          \"name\": \"Vitamin A\",\r\n          \"amount\": 705.97,\r\n          \"unit\": \"IU\",\r\n          \"percentOfDailyNeeds\": 23.17\r\n        },\r\n        {\r\n          \"name\": \"Zinc\",\r\n          \"amount\": 0.03,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.72\r\n        },\r\n        {\r\n          \"name\": \"Lycopene\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Iron\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 11.94\r\n        },\r\n        {\r\n          \"name\": \"Calcium\",\r\n          \"amount\": 6.78,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.2\r\n        },\r\n        {\r\n          \"name\": \"Fat\",\r\n          \"amount\": 22.91,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 56.81\r\n        },\r\n        {\r\n          \"name\": \"Caffeine\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Alcohol\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 100.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B3\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 5.07\r\n        },\r\n        {\r\n          \"name\": \"Saturated Fat\",\r\n          \"amount\": 14.51,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 138.71\r\n        },\r\n        {\r\n          \"name\": \"Manganese\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 70.1\r\n        },\r\n        {\r\n          \"name\": \"Mono Unsaturated Fat\",\r\n          \"amount\": 5.94,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Fiber\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 32.33\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B1\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.37\r\n        },\r\n        {\r\n          \"name\": \"Selenium\",\r\n          \"amount\": 0.28,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 17.91\r\n        },\r\n        {\r\n          \"name\": \"Magnesium\",\r\n          \"amount\": 0.56,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 14.06\r\n        },\r\n        {\r\n          \"name\": \"Protein\",\r\n          \"amount\": 0.24,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 11.54\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B5\",\r\n          \"amount\": 0.03,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.82\r\n        },\r\n        {\r\n          \"name\": \"Vitamin E\",\r\n          \"amount\": 0.66,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 13.35\r\n        },\r\n        {\r\n          \"name\": \"Folic Acid\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        },\r\n        {\r\n          \"name\": \"Vitamin C\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 15.45\r\n        },\r\n        {\r\n          \"name\": \"Vitamin D\",\r\n          \"amount\": 0.42,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 4.24\r\n        },\r\n        {\r\n          \"name\": \"Vitamin K\",\r\n          \"amount\": 1.98,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 8.43\r\n        },\r\n        {\r\n          \"name\": \"Net Carbohydrates\",\r\n          \"amount\": 0.02,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 43.1\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B6\",\r\n          \"amount\": 0.0,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 6.31\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B2\",\r\n          \"amount\": 0.01,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 8.95\r\n        },\r\n        {\r\n          \"name\": \"Phosphorus\",\r\n          \"amount\": 6.78,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 16.36\r\n        },\r\n        {\r\n          \"name\": \"Vitamin B12\",\r\n          \"amount\": 0.05,\r\n          \"unit\": \"µg\",\r\n          \"percentOfDailyNeeds\": 1.2\r\n        },\r\n        {\r\n          \"name\": \"Sodium\",\r\n          \"amount\": 3.11,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.74\r\n        },\r\n        {\r\n          \"name\": \"Trans Fat\",\r\n          \"amount\": 0.93,\r\n          \"unit\": \"g\",\r\n          \"percentOfDailyNeeds\": 13915.11\r\n        },\r\n        {\r\n          \"name\": \"Calories\",\r\n          \"amount\": 202.55,\r\n          \"unit\": \"kcal\",\r\n          \"percentOfDailyNeeds\": 41.65\r\n        },\r\n        {\r\n          \"name\": \"Fluoride\",\r\n          \"amount\": 0.79,\r\n          \"unit\": \"mg\",\r\n          \"percentOfDailyNeeds\": 0.0\r\n        }\r\n      ]\r\n    }\r\n  ],\r\n  \"caloricBreakdown\": {\r\n    \"percentProtein\": 2.68,\r\n    \"percentFat\": 38.56,\r\n    \"percentCarbs\": 58.76\r\n  },\r\n  \"weightPerServing\": {\r\n    \"amount\": 333,\r\n    \"unit\": \"g\"\r\n  },\r\n  \"expires\": 1764200363879,\r\n  \"stale\": false\r\n}";
                    var result = JsonSerializer.Deserialize<NutritionInfo>(j, jsonSerializerOptions);
#else
                    var result = await response.Content.ReadFromJsonAsync<NutritionInfo>(jsonSerializerOptions);
#endif
                    result.RecipeID = recipeID;

                    return new SingletonResponse<NutritionInfo>()
                    {
                        Success = true,
                        Object = result
                    };
                }

                throw await HandleError(response);
            }
        }

        public async Task<SingletonResponse<Recipe>> GetRecipeInformation(int recipeID)
        {
            var uri = BuildUri($"recipes/{recipeID}/information");

            using (var req = new HttpRequestMessage(HttpMethod.Get, uri))
            {
                var response = await httpClient.SendAsync(req);

                if (response.IsSuccessStatusCode)
                {
#if DEBUG
                    var j = "{\r\n  \"id\": 640352,\r\n  \"image\": \"https://img.spoonacular.com/recipes/640352-556x370.jpg\",\r\n  \"imageType\": \"jpg\",\r\n  \"title\": \"Cranberry Apple Crisp\",\r\n  \"readyInMinutes\": 45,\r\n  \"servings\": 4,\r\n  \"sourceUrl\": \"https://www.foodista.com/recipe/TJXDHDFD/cranberry-apple-crisp\",\r\n  \"vegetarian\": true,\r\n  \"vegan\": false,\r\n  \"glutenFree\": false,\r\n  \"dairyFree\": false,\r\n  \"veryHealthy\": false,\r\n  \"cheap\": false,\r\n  \"veryPopular\": false,\r\n  \"sustainable\": false,\r\n  \"lowFodmap\": false,\r\n  \"weightWatcherSmartPoints\": 37,\r\n  \"gaps\": \"no\",\r\n  \"preparationMinutes\": null,\r\n  \"cookingMinutes\": null,\r\n  \"aggregateLikes\": 11,\r\n  \"healthScore\": 3.0,\r\n  \"creditsText\": \"Foodista.com – The Cooking Encyclopedia Everyone Can Edit\",\r\n  \"license\": \"CC BY 3.0\",\r\n  \"sourceName\": \"Foodista\",\r\n  \"pricePerServing\": 153.59,\r\n  \"extendedIngredients\": [\r\n    {\r\n      \"id\": 1089003,\r\n      \"aisle\": \"Produce\",\r\n      \"image\": \"grannysmith-apple.png\",\r\n      \"consistency\": \"SOLID\",\r\n      \"name\": \"granny smith apples\",\r\n      \"nameClean\": \"granny smith apples\",\r\n      \"original\": \"4 cups Granny Smith apples, chopped into ½ inch chunks\",\r\n      \"originalName\": \"Granny Smith apples, chopped into ½ inch chunks\",\r\n      \"amount\": 4.0,\r\n      \"unit\": \"cups\",\r\n      \"meta\": [\r\n        \"chopped\"\r\n      ],\r\n      \"measures\": {\r\n        \"us\": {\r\n          \"amount\": 4.0,\r\n          \"unitShort\": \"cups\",\r\n          \"unitLong\": \"cups\"\r\n        },\r\n        \"metric\": {\r\n          \"amount\": 500.0,\r\n          \"unitShort\": \"g\",\r\n          \"unitLong\": \"grams\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"id\": 9078,\r\n      \"aisle\": \"Produce\",\r\n      \"image\": \"cranberries.jpg\",\r\n      \"consistency\": \"SOLID\",\r\n      \"name\": \"cranberries\",\r\n      \"nameClean\": \"cranberries\",\r\n      \"original\": \"2 cups fresh cranberries\",\r\n      \"originalName\": \"fresh cranberries\",\r\n      \"amount\": 2.0,\r\n      \"unit\": \"cups\",\r\n      \"meta\": [\r\n        \"fresh\"\r\n      ],\r\n      \"measures\": {\r\n        \"us\": {\r\n          \"amount\": 2.0,\r\n          \"unitShort\": \"cups\",\r\n          \"unitLong\": \"cups\"\r\n        },\r\n        \"metric\": {\r\n          \"amount\": 200.0,\r\n          \"unitShort\": \"g\",\r\n          \"unitLong\": \"grams\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"id\": 19335,\r\n      \"aisle\": \"Baking\",\r\n      \"image\": \"sugar-in-bowl.png\",\r\n      \"consistency\": \"SOLID\",\r\n      \"name\": \"sugar\",\r\n      \"nameClean\": \"sugar\",\r\n      \"original\": \"1 cup sugar\",\r\n      \"originalName\": \"sugar\",\r\n      \"amount\": 1.0,\r\n      \"unit\": \"cup\",\r\n      \"meta\": [],\r\n      \"measures\": {\r\n        \"us\": {\r\n          \"amount\": 1.0,\r\n          \"unitShort\": \"cup\",\r\n          \"unitLong\": \"cup\"\r\n        },\r\n        \"metric\": {\r\n          \"amount\": 200.0,\r\n          \"unitShort\": \"g\",\r\n          \"unitLong\": \"grams\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"id\": 1145,\r\n      \"aisle\": \"Milk, Eggs, Other Dairy\",\r\n      \"image\": \"butter-sliced.jpg\",\r\n      \"consistency\": \"SOLID\",\r\n      \"name\": \"butter\",\r\n      \"nameClean\": \"butter\",\r\n      \"original\": \"1/2 stick (4 Tbs) unsalted butter, cut into cubes\",\r\n      \"originalName\": \"1/2 stick unsalted butter, cut into cubes\",\r\n      \"amount\": 4.0,\r\n      \"unit\": \"Tbs\",\r\n      \"meta\": [\r\n        \"unsalted\",\r\n        \"cut into cubes\"\r\n      ],\r\n      \"measures\": {\r\n        \"us\": {\r\n          \"amount\": 4.0,\r\n          \"unitShort\": \"Tbsps\",\r\n          \"unitLong\": \"Tbsps\"\r\n        },\r\n        \"metric\": {\r\n          \"amount\": 4.0,\r\n          \"unitShort\": \"Tbsps\",\r\n          \"unitLong\": \"Tbsps\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"id\": 8120,\r\n      \"aisle\": \"Cereal\",\r\n      \"image\": \"rolled-oats.jpg\",\r\n      \"consistency\": \"SOLID\",\r\n      \"name\": \"regular oats\",\r\n      \"nameClean\": \"regular oats\",\r\n      \"original\": \"1 1/2 cups regular oats (not quick-cooking)\",\r\n      \"originalName\": \"regular oats (not quick-cooking)\",\r\n      \"amount\": 1.5,\r\n      \"unit\": \"cups\",\r\n      \"meta\": [\r\n        \"(not quick-cooking)\"\r\n      ],\r\n      \"measures\": {\r\n        \"us\": {\r\n          \"amount\": 1.5,\r\n          \"unitShort\": \"cups\",\r\n          \"unitLong\": \"cups\"\r\n        },\r\n        \"metric\": {\r\n          \"amount\": 121.622,\r\n          \"unitShort\": \"g\",\r\n          \"unitLong\": \"grams\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"id\": 19334,\r\n      \"aisle\": \"Baking\",\r\n      \"image\": \"light-brown-sugar.jpg\",\r\n      \"consistency\": \"SOLID\",\r\n      \"name\": \"brown sugar\",\r\n      \"nameClean\": \"brown sugar\",\r\n      \"original\": \"1/2 cup light brown sugar\",\r\n      \"originalName\": \"light brown sugar\",\r\n      \"amount\": 0.5,\r\n      \"unit\": \"cup\",\r\n      \"meta\": [\r\n        \"light\"\r\n      ],\r\n      \"measures\": {\r\n        \"us\": {\r\n          \"amount\": 0.5,\r\n          \"unitShort\": \"cups\",\r\n          \"unitLong\": \"cups\"\r\n        },\r\n        \"metric\": {\r\n          \"amount\": 110.0,\r\n          \"unitShort\": \"g\",\r\n          \"unitLong\": \"grams\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"id\": 20081,\r\n      \"aisle\": \"Baking\",\r\n      \"image\": \"flour.png\",\r\n      \"consistency\": \"SOLID\",\r\n      \"name\": \"flour\",\r\n      \"nameClean\": \"flour\",\r\n      \"original\": \"1/4 cup all-purpose flour\",\r\n      \"originalName\": \"all-purpose flour\",\r\n      \"amount\": 0.25,\r\n      \"unit\": \"cup\",\r\n      \"meta\": [\r\n        \"all-purpose\"\r\n      ],\r\n      \"measures\": {\r\n        \"us\": {\r\n          \"amount\": 0.25,\r\n          \"unitShort\": \"cups\",\r\n          \"unitLong\": \"cups\"\r\n        },\r\n        \"metric\": {\r\n          \"amount\": 31.25,\r\n          \"unitShort\": \"g\",\r\n          \"unitLong\": \"grams\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"id\": 1145,\r\n      \"aisle\": \"Milk, Eggs, Other Dairy\",\r\n      \"image\": \"butter-sliced.jpg\",\r\n      \"consistency\": \"SOLID\",\r\n      \"name\": \"butter\",\r\n      \"nameClean\": \"butter\",\r\n      \"original\": \"1 stick unsalted butter, melted\",\r\n      \"originalName\": \"unsalted butter, melted\",\r\n      \"amount\": 1.0,\r\n      \"unit\": \"stick\",\r\n      \"meta\": [\r\n        \"unsalted\",\r\n        \"melted\"\r\n      ],\r\n      \"measures\": {\r\n        \"us\": {\r\n          \"amount\": 1.0,\r\n          \"unitShort\": \"stick\",\r\n          \"unitLong\": \"stick\"\r\n        },\r\n        \"metric\": {\r\n          \"amount\": 1.0,\r\n          \"unitShort\": \"stick\",\r\n          \"unitLong\": \"stick\"\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  \"summary\": \"Need a <b>lacto ovo vegetarian dessert</b>? Cranberry Apple Crisp could be an excellent recipe to try. This recipe serves 4. One serving contains <b>833 calories</b>, <b>6g of protein</b>, and <b>37g of fat</b>. For <b>$1.54 per serving</b>, this recipe <b>covers 13%</b> of your daily requirements of vitamins and minerals. 11 person were glad they tried this recipe. From preparation to the plate, this recipe takes roughly <b>45 minutes</b>. If you have butter, regular oats, sugar, and a few other ingredients on hand, you can make it. It is brought to you by Foodista. Overall, this recipe earns a <b>not so awesome spoonacular score of 36%</b>. If you like this recipe, you might also like recipes such as <a href=\\\"https://spoonacular.com/recipes/apple-cranberry-crisp-55221\\\">Apple Cranberry Crisp</a>, <a href=\\\"https://spoonacular.com/recipes/the-best-cranberry-apple-crisp-1053025\\\">The Best Cranberry Apple Crisp</a>, and <a href=\\\"https://spoonacular.com/recipes/apple-cranberry-crisp-128913\\\">Apple Cranberry Crisp</a>.\",\r\n  \"cuisines\": [],\r\n  \"dishTypes\": [\r\n    \"dessert\"\r\n  ],\r\n  \"diets\": [\r\n    \"lacto ovo vegetarian\"\r\n  ],\r\n  \"occasions\": [],\r\n  \"instructions\": \"Preheat the oven to 350 degrees and grease or butter a 913 glass baking dish.\\nIn a large bowl, toss together the chopped apples, cranberries and sugar. Let stand for a few minutes then pour into the baking dish.\\nDot the mixture with the 1/2 stick of cubed butter.\\nIn a medium bowl, combine the oats, brown sugar and flour.  Sprinkle evenly over the cranberries and apples in the baking dish.  Gently pour the melted butter over the top.\\nCover with aluminum foil and bake for 35 minutes.  Remove the foil and bake for an additional 15 minutes, or until the oat topping is nicely browned.\\nServe warm as a side or for dessert with a scoop of vanilla ice cream.\",\r\n  \"analyzedInstructions\": [\r\n    {\r\n      \"name\": \"\",\r\n      \"steps\": [\r\n        {\r\n          \"number\": 1,\r\n          \"step\": \"Preheat the oven to 350 degrees and grease or butter a 913 glass baking dish.\",\r\n          \"ingredients\": [\r\n            {\r\n              \"id\": 1001,\r\n              \"name\": \"butter\",\r\n              \"localizedName\": \"butter\",\r\n              \"image\": \"butter-sliced.jpg\"\r\n            }\r\n          ],\r\n          \"equipment\": [\r\n            {\r\n              \"id\": 406921,\r\n              \"name\": \"glass baking pan\",\r\n              \"localizedName\": \"glass baking pan\",\r\n              \"image\": \"https://spoonacular.com/cdn/equipment_100x100/glass-baking-tray.jpg\"\r\n            },\r\n            {\r\n              \"id\": 404784,\r\n              \"name\": \"oven\",\r\n              \"localizedName\": \"oven\",\r\n              \"image\": \"https://spoonacular.com/cdn/equipment_100x100/oven.jpg\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"number\": 2,\r\n          \"step\": \"In a large bowl, toss together the chopped apples, cranberries and sugar.\",\r\n          \"ingredients\": [\r\n            {\r\n              \"id\": 9078,\r\n              \"name\": \"cranberries\",\r\n              \"localizedName\": \"cranberries\",\r\n              \"image\": \"cranberries.jpg\"\r\n            },\r\n            {\r\n              \"id\": 9003,\r\n              \"name\": \"apple\",\r\n              \"localizedName\": \"apple\",\r\n              \"image\": \"https://spoonacular.com/cdn/ingredients_100x100/apple.jpg\"\r\n            },\r\n            {\r\n              \"id\": 19335,\r\n              \"name\": \"sugar\",\r\n              \"localizedName\": \"sugar\",\r\n              \"image\": \"sugar-in-bowl.png\"\r\n            }\r\n          ],\r\n          \"equipment\": [\r\n            {\r\n              \"id\": 404783,\r\n              \"name\": \"bowl\",\r\n              \"localizedName\": \"bowl\",\r\n              \"image\": \"https://spoonacular.com/cdn/equipment_100x100/bowl.jpg\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"number\": 3,\r\n          \"step\": \"Let stand for a few minutes then pour into the baking dish.\",\r\n          \"ingredients\": [],\r\n          \"equipment\": [\r\n            {\r\n              \"id\": 404646,\r\n              \"name\": \"baking pan\",\r\n              \"localizedName\": \"baking pan\",\r\n              \"image\": \"https://spoonacular.com/cdn/equipment_100x100/roasting-pan.jpg\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"number\": 4,\r\n          \"step\": \"Dot the mixture with the 1/2 stick of cubed butter.\",\r\n          \"ingredients\": [\r\n            {\r\n              \"id\": 1001,\r\n              \"name\": \"butter\",\r\n              \"localizedName\": \"butter\",\r\n              \"image\": \"butter-sliced.jpg\"\r\n            }\r\n          ],\r\n          \"equipment\": []\r\n        },\r\n        {\r\n          \"number\": 5,\r\n          \"step\": \"In a medium bowl, combine the oats, brown sugar and flour.\",\r\n          \"ingredients\": [\r\n            {\r\n              \"id\": 19334,\r\n              \"name\": \"brown sugar\",\r\n              \"localizedName\": \"brown sugar\",\r\n              \"image\": \"dark-brown-sugar.png\"\r\n            },\r\n            {\r\n              \"id\": 20081,\r\n              \"name\": \"all purpose flour\",\r\n              \"localizedName\": \"all purpose flour\",\r\n              \"image\": \"flour.png\"\r\n            },\r\n            {\r\n              \"id\": 8120,\r\n              \"name\": \"oats\",\r\n              \"localizedName\": \"oats\",\r\n              \"image\": \"rolled-oats.jpg\"\r\n            }\r\n          ],\r\n          \"equipment\": [\r\n            {\r\n              \"id\": 404783,\r\n              \"name\": \"bowl\",\r\n              \"localizedName\": \"bowl\",\r\n              \"image\": \"https://spoonacular.com/cdn/equipment_100x100/bowl.jpg\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"number\": 6,\r\n          \"step\": \"Sprinkle evenly over the cranberries and apples in the baking dish.  Gently pour the melted butter over the top.\",\r\n          \"ingredients\": [\r\n            {\r\n              \"id\": 9078,\r\n              \"name\": \"cranberries\",\r\n              \"localizedName\": \"cranberries\",\r\n              \"image\": \"cranberries.jpg\"\r\n            },\r\n            {\r\n              \"id\": 9003,\r\n              \"name\": \"apple\",\r\n              \"localizedName\": \"apple\",\r\n              \"image\": \"https://spoonacular.com/cdn/ingredients_100x100/apple.jpg\"\r\n            },\r\n            {\r\n              \"id\": 1001,\r\n              \"name\": \"butter\",\r\n              \"localizedName\": \"butter\",\r\n              \"image\": \"butter-sliced.jpg\"\r\n            }\r\n          ],\r\n          \"equipment\": [\r\n            {\r\n              \"id\": 404646,\r\n              \"name\": \"baking pan\",\r\n              \"localizedName\": \"baking pan\",\r\n              \"image\": \"https://spoonacular.com/cdn/equipment_100x100/roasting-pan.jpg\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"number\": 7,\r\n          \"step\": \"Cover with aluminum foil and bake for 35 minutes.\",\r\n          \"ingredients\": [],\r\n          \"equipment\": [\r\n            {\r\n              \"id\": 404765,\r\n              \"name\": \"aluminum foil\",\r\n              \"localizedName\": \"aluminum foil\",\r\n              \"image\": \"https://spoonacular.com/cdn/equipment_100x100/aluminum-foil.png\"\r\n            },\r\n            {\r\n              \"id\": 404784,\r\n              \"name\": \"oven\",\r\n              \"localizedName\": \"oven\",\r\n              \"image\": \"https://spoonacular.com/cdn/equipment_100x100/oven.jpg\"\r\n            }\r\n          ],\r\n          \"length\": {\r\n            \"number\": 35,\r\n            \"unit\": \"minutes\"\r\n          }\r\n        },\r\n        {\r\n          \"number\": 8,\r\n          \"step\": \"Remove the foil and bake for an additional 15 minutes, or until the oat topping is nicely browned.\",\r\n          \"ingredients\": [],\r\n          \"equipment\": [\r\n            {\r\n              \"id\": 404784,\r\n              \"name\": \"oven\",\r\n              \"localizedName\": \"oven\",\r\n              \"image\": \"https://spoonacular.com/cdn/equipment_100x100/oven.jpg\"\r\n            },\r\n            {\r\n              \"id\": 404765,\r\n              \"name\": \"aluminum foil\",\r\n              \"localizedName\": \"aluminum foil\",\r\n              \"image\": \"https://spoonacular.com/cdn/equipment_100x100/aluminum-foil.png\"\r\n            }\r\n          ],\r\n          \"length\": {\r\n            \"number\": 15,\r\n            \"unit\": \"minutes\"\r\n          }\r\n        },\r\n        {\r\n          \"number\": 9,\r\n          \"step\": \"Serve warm as a side or for dessert with a scoop of vanilla ice cream.\",\r\n          \"ingredients\": [\r\n            {\r\n              \"id\": 19095,\r\n              \"name\": \"vanilla ice cream\",\r\n              \"localizedName\": \"vanilla ice cream\",\r\n              \"image\": \"vanilla-ice-cream.png\"\r\n            }\r\n          ],\r\n          \"equipment\": []\r\n        }\r\n      ]\r\n    }\r\n  ],\r\n  \"spoonacularScore\": 0.3695991039276123,\r\n  \"spoonacularSourceUrl\": \"https://spoonacular.com/cranberry-apple-crisp-640352\"\r\n}";
                    var result = JsonSerializer.Deserialize<Recipe>(j, jsonSerializerOptions);
#else
                    var result = await response.Content.ReadFromJsonAsync<Recipe>(jsonSerializerOptions);
#endif

                    return new SingletonResponse<Recipe>()
                    {
                        Success = true,
                        Object = result
                    };
                }

                throw await HandleError(response);
            }
        }


        #region Helpers
        private  Uri BuildUri(string path, IDictionary<string, string> query = null)
        {
            var sb = new StringBuilder();
            sb.Append(path);

            if (query != null && query.Any())
            {
                var q = query
                .Where(kv => !string.IsNullOrWhiteSpace(kv.Value))
                .Select(kv => $"{Uri.EscapeDataString(kv.Key)}={Uri.EscapeDataString(kv.Value!)}")
                .ToArray();

                if (q.Length > 0)
                {
                    sb.Append('?');
                    sb.Append(string.Join("&", q));
                }
                sb.Append("&number=2");
            }

            return new Uri(sb.ToString(), UriKind.Relative);
        }

        private async Task<Exception> HandleError(HttpResponseMessage response)
        {
            string errorMsg = null;
            string body = null;
            if (response.StatusCode == System.Net.HttpStatusCode.Unauthorized)
            {
                errorMsg = response.StatusCode.ToString();
            }
            else
            {
                try
                {
                    body = await response.Content.ReadAsStringAsync();
                }
                catch
                {
                }
            }

            throw new Exception(string.Format("HTTP Call '{0}' failed with {1}. Details: {2}", response.RequestMessage.RequestUri, response.StatusCode, errorMsg != null ? errorMsg : body));
        }
        #endregion
    }
}
